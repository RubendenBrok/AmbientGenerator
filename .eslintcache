[{"/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/index.tsx":"1","/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/App.tsx":"2","/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/drift.ts":"3","/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/soundplayer.ts":"4","/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/soundsources.ts":"5","/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/visuals.ts":"6","/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/chordcontainer.tsx":"7","/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/loadingscreen.tsx":"8","/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/mobileui.tsx":"9"},{"size":222,"mtime":1623276419000,"results":"10","hashOfConfig":"11"},{"size":30266,"mtime":1623513791000,"results":"12","hashOfConfig":"11"},{"size":1025,"mtime":1613054079000,"results":"13","hashOfConfig":"11"},{"size":6700,"mtime":1614793710000,"results":"14","hashOfConfig":"11"},{"size":21529,"mtime":1614793102000,"results":"15","hashOfConfig":"11"},{"size":9590,"mtime":1623513210000,"results":"16","hashOfConfig":"11"},{"size":2162,"mtime":1623276419000,"results":"17","hashOfConfig":"11"},{"size":1765,"mtime":1623276419000,"results":"18","hashOfConfig":"11"},{"size":7836,"mtime":1623511542000,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"asqc5z",{"filePath":"23","messages":"24","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/index.tsx",[],["40","41"],"/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/App.tsx",["42","43","44","45","46","47"],"/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/drift.ts",[],"/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/soundplayer.ts",[],"/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/soundsources.ts",[],"/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/visuals.ts",["48"],"import * as PIXI from \"pixi.js\";\nimport { seqLength, keys } from \"./App\";\nimport { soundSources } from \"./soundsources\";\nimport { mobile } from \"./App\";\n\nlet app: any;\nlet graph: any;\nlet overlay: any;\nlet fx: any;\n\nlet graphicsArr: any[] = [];\n\nlet height: number;\nlet width: number;\nlet circleMaxR: number;\nlet circleMinR: number;\nlet circleMidX: number;\nlet circleMidY: number;\nlet ringDistance: number;\nlet dotSize: number;\n\nlet driftCircleMin = 2;\nconst driftCircleUnSelect = 2;\nconst driftCircleSelect = 8;\nconst driftCircleMax = 12;\nlet driftCircle = driftCircleMin;\nlet driftHover = false;\nlet driftButton: any;\nlet driftRippleCounter: number;\nlet driftRippleTime = 2000;\n\nconst trackWidthSelected = 9;\nconst trackWidthUnSelected = 2;\nlet objID = 0;\nconst PI = Math.PI;\nconst seqStepAngle = (2 * PI) / 32;\n\nexport const colors = [\n  0xff1239, 0xd61fff, 0x2a22ff, 0x26ffff, 0x28ff5e, 0xfffa5c, 0xffb950,\n  0xff6d33, 0xffbdc8,\n];\n\nlet amountOfDrawnTracks: number = 0;\n\nexport function initGraphics(mobileUI: boolean, hq: boolean) {\n  // prevents crash on some Firefox versions (https://github.com/pixijs/pixi.js/issues/7070)\n  PIXI.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = false;\n\n  //Create a Pixi Application\n  app = new PIXI.Application({\n    width: window.innerWidth,\n    height: window.innerHeight,\n    antialias: true,\n    transparent: true,\n    resolution: 1,\n  });\n\n  document.body.appendChild(app.view);\n\n  overlay = new PIXI.Graphics();\n  app.stage.addChild(overlay);\n  graph = new PIXI.Graphics();\n  app.stage.addChild(graph);\n\n  fx = new PIXI.Graphics();\n  app.stage.addChild(fx);\n\n  //initialize track data\n  soundSources.forEach((track: any, index: number) => {\n    if (track.kind === \"inst\" || track.kind === \"drum\") {\n      amountOfDrawnTracks++;\n    }\n  });\n  screenResize();\n\n  //initialize driftbutton\n  driftRippleCounter = performance.now();\n}\n\nclass rippleCircle {\n  x: number;\n  y: number;\n  size: number;\n  growth: number;\n  color: number;\n  creationTime: number;\n  lifeTime: number;\n  beginFade: number;\n  fadeTime: number;\n  id: number;\n  dead: boolean;\n  startOpacity: number;\n  opacity: number;\n  thickness: number;\n  r: number;\n\n  constructor(volume: number, track: number, seqIndex: number) {\n    this.r = circleMaxR - ringDistance * track;\n    this.x = circleMidX + this.r * Math.sin(-seqIndex * seqStepAngle + PI);\n    this.y = circleMidY + this.r * Math.cos(-seqIndex * seqStepAngle + PI);\n    this.size = (volume / 100) * dotSize;\n    this.color = colors[track];\n    this.thickness = 2 + 5 * (volume / 100);\n    this.creationTime = performance.now();\n    this.lifeTime = 500 + 600 * (volume / 100);\n    this.beginFade = 200;\n    this.fadeTime = this.lifeTime - this.beginFade;\n    this.id = objID;\n    objID++;\n    this.dead = false;\n    this.growth = 0.2 + volume / 300;\n    this.startOpacity = 0.3;\n    this.opacity = this.startOpacity;\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    let newState = updateFXCircle(this);\n    this.size = newState.size;\n    this.opacity = newState.opacity;\n    this.dead = newState.dead;\n  }\n\n  draw() {\n    // graph.beginFill(this.color, this.opacity);\n    drawFXCircle(\n      this.x,\n      this.y,\n      this.size,\n      this.thickness,\n      this.color,\n      this.opacity\n    );\n  }\n}\n\nclass driftRipple {\n  size: number;\n  growth: number;\n  color: number;\n  creationTime: number;\n  lifeTime: number;\n  beginFade: number;\n  fadeTime: number;\n  id: number;\n  dead: boolean;\n  startOpacity: number;\n  opacity: number;\n  thickness: number;\n\n  constructor() {\n    this.size = circleMaxR - ringDistance * amountOfDrawnTracks;\n    this.color = 0xffffff;\n    this.thickness = 15;\n    this.creationTime = performance.now();\n    this.lifeTime = 2000;\n    this.beginFade = 400;\n    this.fadeTime = this.lifeTime - this.beginFade;\n    this.id = objID;\n    objID++;\n    this.dead = false;\n    this.growth = 0.3;\n    this.startOpacity = 0.2;\n    this.opacity = this.startOpacity;\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    let newState = updateFXCircle(this);\n    this.size = newState.size;\n    this.opacity = newState.opacity;\n    this.dead = newState.dead;\n  }\n\n  draw() {\n    // graph.beginFill(this.color, this.opacity);\n    drawFXCircle(\n      width / 2,\n      height / 2,\n      this.size,\n      this.thickness,\n      this.color,\n      this.opacity\n    );\n  }\n}\n\nfunction drawFXCircle(\n  x: number,\n  y: number,\n  size: number,\n  thickness: number,\n  color: number,\n  opacity: number\n) {\n  fx.lineStyle(thickness, color, opacity);\n  fx.drawCircle(x, y, size);\n  fx.endFill();\n}\n\nfunction updateFXCircle(object: any) {\n  object.size += object.growth;\n\n  if (performance.now() > object.creationTime + object.beginFade) {\n    let howLongAmIFading =\n      performance.now() - object.creationTime - object.beginFade;\n    object.opacity =\n      object.startOpacity -\n      object.startOpacity * (howLongAmIFading / object.fadeTime);\n  }\n  if (performance.now() > object.creationTime + object.lifeTime) {\n    object.dead = true;\n  }\n  return object;\n}\n\nexport function updateGraphics(state: any) {\n  graph.clear();\n  fx.clear();\n  overlay.clear();\n\n  graph.beginFill(0x2a2a2a, 0.2);\n  graph.drawRect(0, 0, width, height);\n  graph.endFill();\n\n  graphicsArr.forEach((obj: any, index: number) => {\n    obj.update();\n    obj.draw();\n  });\n\n  for (let i = graphicsArr.length - 1; i >= 0; i--) {\n    if (graphicsArr[i].dead) {\n      graphicsArr.splice(i, 1);\n    }\n  }\n\n  // draw 8 white indicator lines\n  /*\n  overlay.lineStyle(1, 0x555555);\n  for (let i = 0; i < 8; i++) {\n    overlay.moveTo(\n      circleMidX +\n        (circleMaxR - ringDistance * amountOfDrawnTracks) *\n          Math.sin((i / 8) * (2 * PI)),\n      circleMidY +\n        (circleMaxR - ringDistance * amountOfDrawnTracks) *\n          Math.cos((i / 8) * (2 * PI))\n    );\n    overlay.lineTo(\n      circleMidX + circleMaxR * Math.sin((i / 8) * (2 * PI)),\n      circleMidY + circleMaxR * Math.cos((i / 8) * (2 * PI))\n    );\n  }\n  */\n\n  //draw the flow button circle\n  if (state.drifting) {\n    driftCircleMin = driftCircleSelect;\n  } else {\n    driftCircleMin = driftCircleUnSelect;\n  }\n\n  if (driftHover && driftCircle < driftCircleMax) {\n    driftCircle += 1;\n  }\n  if (!driftHover && driftCircle > driftCircleMin) {\n    driftCircle -= 1;\n  }\n  let r = circleMaxR - ringDistance * amountOfDrawnTracks;\n  fx.lineStyle(driftCircle, 0xffffff, 0.5);\n  fx.drawCircle(circleMidX, circleMidY, r);\n  overlay.lineStyle(2, 0xffffff, 0.5);\n  overlay.drawCircle(circleMidX, circleMidY, r);\n\n  //draw ripples if sequencer is drifting\n  if (state.drifting && state.playing) {\n    if (performance.now() - driftRippleCounter >= driftRippleTime) {\n      driftRippleCounter = performance.now();\n      graphicsArr.push(new driftRipple());\n    }\n  }\n\n  soundSources.forEach((track: any, index: number) => {\n    if (track.kind === \"drum\" || track.kind === \"inst\") {\n      if (!state[keys.disabledKey + index]) {\n        let r = circleMaxR - ringDistance * index;\n        let sixteenth = (60 / state.bpm / 4) * 1000;\n        let timeInCurrentStep = performance.now() - state.lastPlayTime;\n        let angle =\n          state.masterSeq.currentSequencePos * seqStepAngle +\n          (timeInCurrentStep / sixteenth) * seqStepAngle -\n          PI -\n          0.2;\n        let size = dotSize * (state[keys.volKey + index] / 100);\n\n        // draw a big circle in the color of the track\n        if (state.trackSelected[index]) {\n          fx.lineStyle(trackWidthSelected, colors[index], 0.5);\n        } else {\n          fx.lineStyle(trackWidthUnSelected, colors[index], 0.5);\n        }\n        fx.drawCircle(circleMidX, circleMidY, r);\n        overlay.lineStyle(2, colors[index], 0.5);\n        overlay.drawCircle(circleMidX, circleMidY, r);\n\n        //for each track, draw a circle when there is a sound in the sequencer\n        graph.beginFill(colors[index]);\n        for (let i = 0; i < seqLength; i++) {\n          if (!isNaN(state[keys.seqKey + index][i])) {\n            graph.drawCircle(\n              circleMidX + r * Math.sin(-i * seqStepAngle + PI),\n              circleMidY + r * Math.cos(-i * seqStepAngle + PI),\n              size\n            );\n          }\n        }\n        graph.endFill();\n\n        //draw the small circle to indicate where the sequencer is\n        if (state.playing) {\n          overlay.beginFill(0xcccccc);\n          overlay.drawCircle(\n            circleMidX + r * Math.sin(-angle),\n            circleMidY + r * Math.cos(-angle),\n            3\n          );\n          overlay.endFill();\n        }\n      }\n    }\n  });\n}\n\nexport function ripple(track: number, volume: number, seqIndex: number) {\n  graphicsArr.push(new rippleCircle(volume, track, seqIndex));\n}\n\nexport function screenResize() {\n  if (window.innerWidth < mobile) {\n    width = window.innerWidth;\n    height = window.innerHeight;\n    app.renderer.resize(width, height);\n    circleMaxR = Math.min(height, width) / 2 - 20;\n    circleMinR = circleMaxR / 4;\n    circleMidX = width / 2;\n    circleMidY = height - width / 2 - (height / 1.8 - width);\n    ringDistance = (circleMaxR - circleMinR) / (amountOfDrawnTracks - 1);\n    dotSize = 10;\n  } else {\n    width = Math.max(window.innerWidth, 650);\n    height = Math.max(window.innerHeight, 550);\n    app.renderer.resize(width, height);\n    circleMaxR = Math.min(height, width * 0.6) / 2 - 50;\n    circleMinR = circleMaxR / 5;\n    circleMidX = width / 2;\n    circleMidY = height / 2;\n    ringDistance = (circleMaxR - circleMinR) / (amountOfDrawnTracks - 1);\n    dotSize = Math.min(width * 0.6, height) / 60;\n  }\n}\n","/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/chordcontainer.tsx",[],"/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/loadingscreen.tsx",[],"/Users/Ruben/Desktop/Coding/projects/ambientmusic/src/mobileui.tsx",["49","50","51"],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":588,"column":53,"nodeType":"58","messageId":"59","endLine":588,"endColumn":55},{"ruleId":"56","severity":1,"message":"57","line":709,"column":53,"nodeType":"58","messageId":"59","endLine":709,"endColumn":55},{"ruleId":"60","severity":1,"message":"61","line":742,"column":9,"nodeType":"62","endLine":742,"endColumn":51},{"ruleId":"60","severity":1,"message":"61","line":751,"column":9,"nodeType":"62","endLine":751,"endColumn":51},{"ruleId":"56","severity":1,"message":"57","line":787,"column":57,"nodeType":"58","messageId":"59","endLine":787,"endColumn":59},{"ruleId":"60","severity":1,"message":"61","line":837,"column":7,"nodeType":"62","endLine":837,"endColumn":47},{"ruleId":"63","severity":1,"message":"64","line":28,"column":5,"nodeType":"65","messageId":"66","endLine":28,"endColumn":21},{"ruleId":"56","severity":1,"message":"57","line":65,"column":59,"nodeType":"58","messageId":"59","endLine":65,"endColumn":61},{"ruleId":"60","severity":1,"message":"61","line":109,"column":11,"nodeType":"62","endLine":109,"endColumn":53},{"ruleId":"60","severity":1,"message":"61","line":118,"column":11,"nodeType":"62","endLine":118,"endColumn":53},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","@typescript-eslint/no-unused-vars","'driftButton' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]